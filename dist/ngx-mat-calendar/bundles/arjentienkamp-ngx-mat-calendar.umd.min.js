!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("date-fns"),require("@angular/material/core"),require("@angular/material/menu"),require("rxjs"),require("rxjs/operators"),require("@angular/material/dialog"),require("@angular/platform-browser"),require("@angular/forms"),require("@angular/material/card"),require("@angular/material/tooltip"),require("@angular/material/button"),require("@angular/material/icon"),require("@angular/material/form-field"),require("@angular/material/input"),require("@angular/material/datepicker"),require("uuid"),require("rxjs/internal/operators/tap"),require("@angular/cdk/overlay"),require("@angular/material-moment-adapter"),require("@angular/material/divider"),require("@angular/material/select")):"function"==typeof define&&define.amd?define("@arjentienkamp/ngx-mat-calendar",["exports","@angular/core","date-fns","@angular/material/core","@angular/material/menu","rxjs","rxjs/operators","@angular/material/dialog","@angular/platform-browser","@angular/forms","@angular/material/card","@angular/material/tooltip","@angular/material/button","@angular/material/icon","@angular/material/form-field","@angular/material/input","@angular/material/datepicker","uuid","rxjs/internal/operators/tap","@angular/cdk/overlay","@angular/material-moment-adapter","@angular/material/divider","@angular/material/select"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).arjentienkamp=e.arjentienkamp||{},e.arjentienkamp["ngx-mat-calendar"]={}),e.ng.core,e.dateFns,e.ng.material.core,e.ng.material.menu,e.rxjs,e.rxjs.operators,e.ng.material.dialog,e.ng.platformBrowser,e.ng.forms,e.ng.material.card,e.ng.material.tooltip,e.ng.material.button,e.ng.material.icon,e.ng.material.formField,e.ng.material.input,e.ng.material.datepicker,e.uuid,e.rxjs["internal/operators/tap"],e.ng.cdk.overlay,e.ng.materialMomentAdapter,e.ng.material.divider,e.ng.material.select)}(this,(function(e,t,n,a,i,r,o,l,d,s,c,p,f,y,m,u,_,v,h,g,x,b,w){"use strict";var k,D="month",T=[{title:"00:00"},{title:"01:00"},{title:"02:00"},{title:"03:00"},{title:"04:00"},{title:"05:00"},{title:"06:00"},{title:"07:00"},{title:"08:00"},{title:"09:00"},{title:"10:00"},{title:"11:00"},{title:"12:00"},{title:"13:00"},{title:"14:00"},{title:"15:00"},{title:"16:00"},{title:"17:00"},{title:"18:00"},{title:"19:00"},{title:"20:00"},{title:"21:00"},{title:"22:00"},{title:"23:00"},{title:"00:00",isEnd:!0}],C=[{title:"Mon"},{title:"Tue"},{title:"Wed"},{title:"Thu"},{title:"Fri"},{title:"Sat"},{title:"Sun"}];!function(e){e.day="days",e.week="weeks",e.month="months"}(k||(k={}));var E="prev",M=function(){function e(){}return e.prototype.getTime=function(e){return n.format(e,"HH:mm")},e.prototype.isToday=function(e){return n.isToday(e)},e.prototype.getDayName=function(e){return n.format(e,"E")},e.prototype.getDayNumber=function(e){return n.format(e,"d")},e}();M.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new M},token:M,providedIn:"root"}),M.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}];var O=function(){function e(e){this.formattingService=e}return e.prototype.ngOnInit=function(){this.startTime=this.formattingService.getTime(this.event.startTime),this.endTime=this.formattingService.getTime(this.event.endTime),this.isSameDay=n.isSameDay(this.event.startTime,this.event.endTime),this.endsToday=n.isSameDay(this.date,this.event.endTime)},e}();O.decorators=[{type:t.Component,args:[{selector:"event-render-day",template:'<div *ngIf="event" class="event" [class.all-day]="event.allDay" [style.backgroundColor]="event.color">\n    <div *ngIf="!event.allDay">\n        <div class="event__header">\n            <p>{{ event.title }}</p>\n        </div>\n\n        <div class="event__metadata">\n            <p>{{ startTime }} - {{ endTime }}</p>\n\n            <div class="event__location" *ngIf="event.location">\n                <mat-icon>place</mat-icon>\n                <span>{{ event.location }}</span>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf="event.allDay">\n        <div class="event__header">\n            <p class="title">{{ event.title }}</p>\n        </div>\n    </div>\n\n    <div class="event__multiday" *ngIf="!isSameDay && !endsToday"></div>\n</div>',styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}.event,:host(event-render){display:flex;flex-direction:column;height:100%}.event{justify-content:space-between;border-radius:4px;overflow:hidden}.event.all-day{height:auto}.event__header{display:flex;text-align:left;color:#546e7a;padding:.25rem;border-bottom:1px solid hsla(0,0%,100%,.5)}.event__header p{white-space:nowrap;text-overflow:ellipsis;max-width:100%;overflow:hidden;margin-bottom:0}.event__metadata{display:flex;flex-direction:column;flex:1;font-weight:100;color:#546e7a;padding:.25rem}.event__metadata p{margin-bottom:.25rem}.event__location{display:flex;justify-content:flex-start;align-items:center}.event__location mat-icon{font-size:16px;height:16px;width:16px;margin-right:.25rem}.event__location span{white-space:nowrap;text-overflow:ellipsis;max-width:100%;overflow:hidden}']}]}],O.ctorParameters=function(){return[{type:M}]},O.propDecorators={event:[{type:t.Input}],date:[{type:t.Input}]};var S=function(){function e(e){this.formattingService=e}return e.prototype.ngOnInit=function(){this.startTime=this.formattingService.getTime(this.event.startTime),this.endTime=this.formattingService.getTime(this.event.endTime),this.isSameDay=n.isSameDay(this.event.startTime,this.event.endTime),this.endsToday=n.isSameDay(this.date,this.event.endTime),this.eventTooltip=this.getEventTooltip()},e.prototype.isPastEvent=function(){return n.isBefore(this.event.date,new Date)},e.prototype.getEventTooltip=function(){return this.event.location?this.event.title+" ("+this.startTime+" - "+this.endTime+") @ "+this.event.location:this.event.title+" ("+this.startTime+" - "+this.endTime+")"},e}();S.decorators=[{type:t.Component,args:[{selector:"event-render-month",template:'<div *ngIf="event" class="event">\n    <div\n        class="even__line"\n        [matTooltip]="eventTooltip"\n        [ngStyle]="{\'backgroundColor\' : event.allDay ? event.color : \'\' }"\n        [class.all-day]="event.allDay"\n        [class.past-event]="isPastEvent()">\n        <span class="event-color" *ngIf="!event.allDay" [style.backgroundColor]="event.color"></span>\n        <p class="metadata" *ngIf="!event.allDay">{{ startTime }}</p>\n        <p class="title">{{ event.title }}</p>\n    </div>\n\n    <div class="event__multiday" *ngIf="!isSameDay && !endsToday"></div>\n</div>',styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}:host(event-render){height:100%}.event,:host(event-render){display:flex;flex-direction:column}.event{justify-content:space-between;overflow:hidden;font-size:12px}.even__line{display:flex;align-items:center;text-align:left;color:#546e7a;padding:.25rem}.even__line.all-day{border-radius:2px;width:100%;overflow:hidden;margin-top:.25rem}.even__line.past-event{opacity:.7}.even__line .event-color{min-width:10px;height:10px;border-radius:10px;margin-right:.5rem}.even__line p.metadata{margin-right:.5rem;margin-bottom:0}.even__line p.title{white-space:nowrap;text-overflow:ellipsis;max-width:100%;overflow:hidden;margin-bottom:0}']}]}],S.ctorParameters=function(){return[{type:M}]},S.propDecorators={event:[{type:t.Input}],date:[{type:t.Input}]};var V,j=function(){function e(e){this.formattingService=e}return e.prototype.ngOnInit=function(){this.startTime=this.formattingService.getTime(this.event.startTime),this.endTime=this.formattingService.getTime(this.event.endTime),this.isSameDay=n.isSameDay(this.event.startTime,this.event.endTime),this.endsToday=n.isSameDay(this.date,this.event.endTime)},e}();j.decorators=[{type:t.Component,args:[{selector:"event-render-week",template:'<div *ngIf="event" class="event" [class.all-day]="event.allDay" [style.backgroundColor]="event.color">\n    <div *ngIf="!event.allDay">\n        <div class="event__header">\n            <p>{{ event.title }}</p>\n        </div>\n\n        <div class="event__metadata">\n            <p>{{ startTime }} - {{ endTime }}</p>\n\n            <div class="event__location" *ngIf="event.location">\n                <mat-icon>place</mat-icon>\n                <span>{{ event.location }}</span>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf="event.allDay">\n        <div class="event__header">\n            <p class="title">{{ event.title }}</p>\n        </div>\n    </div>\n\n    <div class="event__multiday" *ngIf="!isSameDay && !endsToday"></div>\n</div>',styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}.event,:host(event-render){display:flex;flex-direction:column;height:100%}.event{justify-content:space-between;border-radius:4px;overflow:hidden}.event.all-day{height:auto}.event__header{display:flex;text-align:left;color:#546e7a;padding:.25rem;border-bottom:1px solid hsla(0,0%,100%,.5)}.event__header p{white-space:nowrap;text-overflow:ellipsis;max-width:100%;overflow:hidden;margin-bottom:0}.event__metadata{display:flex;flex-direction:column;flex:1;font-weight:100;color:#546e7a;padding:.25rem}.event__metadata p{margin-bottom:.25rem}.event__location{display:flex;justify-content:flex-start;align-items:center}.event__location mat-icon{font-size:16px;height:16px;width:16px;margin-right:.25rem}.event__location span{white-space:nowrap;text-overflow:ellipsis;max-width:100%;overflow:hidden}']}]}],j.ctorParameters=function(){return[{type:M}]},j.propDecorators={event:[{type:t.Input}],date:[{type:t.Input}]},function(e){e.grey="#cfd8dc",e.blue="#b3e5fc",e.pink="#ffc1e3",e.green="#c8e6c9"}(V||(V={}));var I=function(e){this.title="",this.allDay=!1,this.color=V.grey,this.grid=new P,Object.assign(this,e)},P=function(){this.offsetTop=0,this.offsetLeft=0,this.width=100,this.durationOffset=0,this.eventsInGroup=0,this.eventGroups=[]},$=function(){function e(e){this.pixelsPerMinute=1.3,this.dateFormat="DD-MM-YYYY",this.timeFormat="HH:mm",this.renderComponent={day:O,week:j,month:S},this.calendarEventType=typeof I,this.jumpToSpy=!0,this.enableDatePickerButton=!0,this.enableAddEventButton=!0,this.enableViewToggle=!0,this.enableKeyboardShortcutDialog=!0,this.locale="nl",this.compact=!1,this.view=D,Object.assign(this,e)}return Object.defineProperty(e.prototype,"getPixelsPerMinute",{get:function(){return this.compact?this.pixelsPerMinute/2:this.pixelsPerMinute},enumerable:!1,configurable:!0}),e}(),z=function(){function e(e){this.data=e}return e.prototype.ngOnInit=function(){},e}();z.decorators=[{type:t.Component,args:[{selector:"keyboard-shortcut-dialog",template:'<h2 mat-dialog-title>Keyboard Shortcuts</h2>\n<mat-dialog-content class="mat-typography">\n    <mat-divider></mat-divider>\n\n    <div class="content-row">\n        <span>Switch to day view</span>\n        <span>\n            <span class="keyboard-shortcut">d</span>\n        </span>\n    </div>\n\n    <div class="content-row">\n        <span>Switch to week view</span>\n        <span>\n            <span class="keyboard-shortcut">w</span>\n        </span>        \n    </div>\n\n    <div class="content-row">\n        <span>Switch to month view</span>\n        <span>\n            <span class="keyboard-shortcut">m</span>\n        </span>\n    </div>\n\n    <div class="content-row">\n        <span>Go to today</span>\n        <span>\n            <span class="keyboard-shortcut">t</span>\n        </span>\n    </div>\n\n    <div class="content-row" *ngIf="data.enableAddEventButton">\n        <span>Add event</span>\n        <span>\n            <span class="keyboard-shortcut">n</span>\n        </span>\n    </div>\n</mat-dialog-content>',styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}.mat-dialog-content{width:450px}.mat-dialog-content mat-divider{margin-bottom:1rem}.mat-dialog-content .content-row{display:flex;align-items:center;justify-content:space-between;height:50px}.mat-dialog-content .keyboard-shortcut{display:block;padding:.5rem 0;border:1px solid #efefef;border-radius:4px;width:40px;text-align:center}']}]}],z.ctorParameters=function(){return[{type:$,decorators:[{type:t.Inject,args:[l.MAT_DIALOG_DATA]}]}]};var N=function(){function e(e,a){this.dateAdapter=e,this.dialog=a,this.dateChange=new t.EventEmitter,this.eventClick=new t.EventEmitter,this.addButtonClick=new t.EventEmitter,this.subscriptions$=new r.Subscription,this.calendar={},this.today=n.format(new Date,"EEEE, d MMMM")}return e.prototype.onKeyDown=function(e){this.handleKeyboardEvents(e)},e.prototype.ngOnInit=function(){var e=this;this.subscriptions$.add(this.options$.pipe(o.tap((function(t){e.options=t,e.selectedView=t.view,e.initCalendar()}))).subscribe()),this.subscriptions$.add(this.events$.pipe(o.tap((function(t){e.events=t,e.parseDates(t)}))).subscribe()),this.subscriptions$.add(this.selectedDate$.pipe(o.tap((function(t){e.selectedDate=t,e.initCalendar(),e.selectedDate!==t&&e.dateChange.emit(e.selectedDate)}))).subscribe())},e.prototype.initCalendar=function(){this.options&&(this.enableDatePickerButton=this.options.enableDatePickerButton,this.enableViewToggle=this.options.enableViewToggle,this.enableKeyboardShortcutDialog=this.options.enableKeyboardShortcutDialog,this.dateAdapter.setLocale(this.options.locale),this.generateCalendar())},e.prototype.generateCalendar=function(){this.selectedDate&&(this.calendar={monthAndYear:n.format(this.selectedDate,"MMMM yyyy"),weeknumber:n.format(this.selectedDate,"I")})},e.prototype.parseDates=function(e){this.events=e.map((function(e){return e.date=new Date(e.date),e.startTime=new Date(e.startTime),e.endTime=new Date(e.endTime),e}))},e.prototype.isToday=function(e){return n.isToday(e)},e.prototype.setCalendarToday=function(){this.selectedDate=new Date,this.selectedDate$.next(this.selectedDate),this.handleCalendarSet()},e.prototype.setCalendarOffset=function(e){var t,a=k[this.selectedView];this.selectedDate=n.add(this.selectedDate,((t={})[a]=e===E?-1:1,t)),this.selectedDate$.next(this.selectedDate),this.handleCalendarSet()},e.prototype.setCalendar=function(e){e&&(this.selectedDate=e,this.selectedDate$.next(e),this.handleCalendarSet())},e.prototype.handleCalendarSet=function(){this.generateCalendar(),this.dateChange.emit(this.selectedDate)},e.prototype.onViewChange=function(e){this.selectedView=e},e.prototype.changeToDayView=function(e){this.selectedView="day",this.setCalendar(e)},e.prototype.getSelectedView=function(e){return this.selectedView===e},e.prototype.onEventClick=function(e){this.eventClick.emit(e)},e.prototype.onAddButtonClick=function(){this.addButtonClick.emit()},e.prototype.onDatePickerChange=function(e){this.setCalendar(n.toDate(e)),this.datePickerMenu.closeMenu()},e.prototype.showKeyboardShortcutDialog=function(){this.dialog.open(z,{data:this.options})},e.prototype.handleKeyboardEvents=function(e){switch(e.key){case"d":this.selectedView="day";break;case"w":this.selectedView="week";break;case"m":this.selectedView=D;break;case"t":this.setCalendarToday();break;case"n":this.addButtonClick.emit()}},e.prototype.ngOnDestroy=function(){this.subscriptions$.unsubscribe()},e}();N.decorators=[{type:t.Component,args:[{selector:"ngx-mat-calendar",template:'<div class="calendar" *ngIf="events && options">\n    <div class="calendar__toolbar">\n         <button\n            mat-stroked-button\n            class="toolbar__button toolbar__button--today"\n            color="primary"\n            [matTooltip]="today"\n            (click)="setCalendarToday()">\n                Today\n        </button>\n\n        <button\n            mat-icon-button\n            class="toolbar__button toolbar__button--navigate"\n            color="primary"\n            (click)="setCalendarOffset(\'prev\')">\n            <mat-icon>chevron_left</mat-icon>\n        </button>\n\n        <button\n            mat-icon-button\n            class="toolbar__button toolbar__button--navigate"\n            color="primary"\n            (click)="setCalendarOffset(\'next\')">\n            <mat-icon>chevron_right</mat-icon>\n        </button>\n\n        <div class="toolbar__meta">\n            <span class="toolbar__month">{{ calendar.monthAndYear }}</span>\n            <span class="toolbar__week" *ngIf="!getSelectedView(\'month\')">Week {{ calendar.weeknumber }}</span>\n        </div>\n\n        <div class="toolbar__right">\n            <button\n                *ngIf="enableKeyboardShortcutDialog"\n                mat-icon-button\n                matTooltip="Keyboard shortcuts"\n                class="toolbar__button toolbar__button--keyboard-shortcut"\n                color="primary"\n                (click)="showKeyboardShortcutDialog()">\n                <mat-icon>keyboard</mat-icon>\n            </button>\n\n            <mat-form-field\n                *ngIf="enableViewToggle"\n                appearance="outline"\n                class="toolbar__view-switch">\n                <mat-select\n                    [value]="selectedView"\n                    (selectionChange)="onViewChange(view.value)"\n                    #view>\n                    <mat-option value="day">Day</mat-option>\n                    <mat-option value="week">Week</mat-option>\n                    <mat-option value="month">Month</mat-option>\n                </mat-select>\n            </mat-form-field>\n\n            <mat-menu #datePickerMenu="matMenu">\n                <div (click)="$event.stopPropagation()">\n                    <mat-calendar (selectedChange)="onDatePickerChange($event)"></mat-calendar>\n                </div>\n            </mat-menu>\n\n            <button\n                [matMenuTriggerFor]="datePickerMenu"\n                matTooltip="Pick a date"\n                *ngIf="enableDatePickerButton"\n                mat-icon-button\n                class="toolbar__button"\n                color="primary">\n                <mat-icon>calendar_today</mat-icon>\n            </button>\n        </div>\n    </div>\n\n    <day-view\n        *ngIf="getSelectedView(\'day\')"\n        [events$]="events$"\n        [selectedDate$]="selectedDate$"\n        [options$]="options$"\n        (eventClick)="onEventClick($event)">\n    </day-view>\n\n    <week-view\n        *ngIf="getSelectedView(\'week\')"\n        [events$]="events$"\n        [selectedDate$]="selectedDate$"\n        [options$]="options$"\n        (eventClick)="onEventClick($event)"\n        (changeToDayView)="changeToDayView($event)">\n    </week-view>\n\n    <month-view\n        *ngIf="getSelectedView(\'month\')"\n        [events$]="events$"\n        [selectedDate$]="selectedDate$"\n        [options$]="options$"\n        (eventClick)="onEventClick($event)"\n        (setCalendarOffset)="setCalendarOffset($event)"\n        (changeToDayView)="changeToDayView($event)">\n    </month-view>\n\n    <button\n        class="calendar__add-button"\n        *ngIf="options.enableAddEventButton"\n        mat-fab\n        color="primary"\n        (click)="onAddButtonClick()">\n        <mat-icon>add</mat-icon>\n    </button>\n</div>',encapsulation:t.ViewEncapsulation.None,styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}:host(ngx-mat-calendar){flex:1;height:100%}.calendar{position:relative;display:flex;flex-direction:column;height:100%}day-view,month-view,week-view{display:flex;height:100%;overflow:hidden}[hidden]{display:none}.calendar__toolbar{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:1rem}.calendar__toolbar .toolbar__button,.calendar__toolbar .toolbar__month,.calendar__toolbar .toolbar__right{display:flex}.calendar__toolbar .toolbar__button{justify-content:center;margin-left:1rem}.calendar__toolbar .toolbar__button--today{margin-left:0;margin-right:1rem}.calendar__toolbar .toolbar__button--navigate{margin-left:0}.calendar__toolbar .toolbar__meta{display:flex;align-items:center;font-weight:200}.calendar__toolbar .toolbar__meta .toolbar__month{margin-left:1rem;font-size:1.25rem}.calendar__toolbar .toolbar__meta .toolbar__week{margin-left:1rem;font-size:1rem;padding:.25rem .5rem;font-size:.75rem;text-transform:uppercase;background-color:#efefef;border-radius:4px}.calendar__toolbar .toolbar__right{flex:1;justify-content:flex-end;align-items:center}.calendar__toolbar .toolbar__datepicker{position:absolute;right:60px}.calendar__toolbar .toolbar__datepicker .mat-form-field{font-size:12px}.calendar__toolbar .toolbar__datepicker .mat-form-field-wrapper{padding-bottom:0}.calendar__toolbar mat-form-field.toolbar__view-switch{margin-left:1rem;align-items:center}.calendar__toolbar mat-form-field.toolbar__view-switch .mat-form-field-wrapper{margin:0;padding:0}.calendar__toolbar mat-form-field.toolbar__view-switch .mat-form-field-infix{padding:.25rem 0 .5rem;width:90px}.calendar__toolbar mat-form-field.toolbar__view-switch .mat-select-arrow{margin-top:.25rem}.calendar__add-button{position:absolute;z-index:1;right:-.5rem;bottom:-.5rem;width:80px;height:80px}.calendar__add-button mat-icon{transform:scale(1.25)}mat-calendar{padding:0 .75rem}.cdk-overlay-pane.hidden-events-overlay{width:calc((100% / 7) + 50px)}.cdk-overlay-pane.hidden-events-overlay .event-container{display:flex;flex-direction:column;position:absolute;background-color:#fff;padding:.5rem;border-radius:4px;overflow:hidden;width:100%;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}.cdk-overlay-pane.hidden-events-overlay .event-container.is-today .event-container__date{border-radius:100%;background:#2a2a2a;color:#fff}.cdk-overlay-pane.hidden-events-overlay .event-container .event-container__date{display:flex;justify-content:center;align-items:center;align-self:center;margin-bottom:.5rem;width:40px;min-height:40px;border-radius:20px;margin-top:4px;background-color:#efefef;color:#2a2a2a;font-size:14px}.cdk-overlay-pane.hidden-events-overlay .event-container .event-container__date:hover{cursor:pointer}.cdk-overlay-pane.hidden-events-overlay event-display{position:relative}']}]}],N.ctorParameters=function(){return[{type:a.DateAdapter},{type:l.MatDialog}]},N.propDecorators={options$:[{type:t.Input}],events$:[{type:t.Input}],selectedDate$:[{type:t.Input}],dateChange:[{type:t.Output}],eventClick:[{type:t.Output}],addButtonClick:[{type:t.Output}],datePickerMenu:[{type:t.ViewChild,args:[i.MatMenuTrigger]}],onKeyDown:[{type:t.HostListener,args:["window:keydown",["$event"]]}]};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var F=function(e,t){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function B(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,i,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function A(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(B(arguments[t]));return e}Object.create;var q=function(){function e(e){this.formattingService=e,this.eventClick=new t.EventEmitter,this.changeToDayView=new t.EventEmitter,this.subscriptions$=new r.Subscription,this.markerPosition=0,this.hoursOfDay=T,this.pixelsPerHour=0,this.selectedDate=new Date,this.events=[]}return e.prototype.ngOnInit=function(){var e=this;this.subscriptions$.add(this.options$.pipe(h.tap((function(t){e.options=t,e.markerPosition=e.calculateMarkerPosition(),e.pixelsPerHour=60*e.options.getPixelsPerMinute}))).subscribe()),this.subscriptions$.add(this.selectedDate$.pipe(h.tap((function(t){e.selectedDate=t}))).subscribe()),this.subscriptions$.add(r.interval(6e4).pipe(h.tap((function(){e.markerPosition=e.calculateMarkerPosition()}))).subscribe())},e.prototype.createEventGroups=function(e){var t=this;return e.events.map((function(n){var a=v.v4(),i=[];if(n.grid){var r=e.events.filter((function(e){return!e.allDay}));(i=t.getOverlappingEvents(n,r,n.grid.eventGroups)).map((function(t){t.grid&&(t.grid.eventGroups.push(a),t.grid.eventsInGroup=i.length),e.eventGroups.includes(a)||e.eventGroups.push(a)}))}})),this.setEventSizes(e),e},e.prototype.populateEvents=function(e,t){return new I(Object.assign(Object.assign({},e),{grid:this.calculatePixelsOffsetForEvent(e,t)}))},e.prototype.getOverlappingEvents=function(e,t,a){return t.filter((function(t){var i=n.areIntervalsOverlapping({start:e.startTime,end:e.endTime},{start:t.startTime,end:t.endTime},{inclusive:!0}),r=!1;return t.grid&&(r=t.grid.eventGroups.some((function(e){return a.includes(e)}))),i&&!r}))},e.prototype.setEventSizes=function(e){e.eventGroups.forEach((function(t){var n=e.events.filter((function(e){var n;return null===(n=e.grid)||void 0===n?void 0:n.eventGroups.includes(t)})),a=0;n.forEach((function(e){e.grid&&(e.grid.width=100/n.length,e.grid.offsetLeft=e.grid.width*a),a++}))}))},e.prototype.calculatePixelsOffsetForEvent=function(e,t){var a=new P,i=e.startTime,r=n.isSameDay(e.startTime,e.endTime)?e.endTime:n.endOfDay(e.startTime),o=n.intervalToDuration({start:i,end:r}),l=n.intervalToDuration({start:n.startOfDay(t.date),end:e.endTime});o.hours=o.hours||0,o.minutes=o.minutes||0,l.hours=l.hours||0,l.minutes=l.minutes||0;var d=!n.isSameDay(e.startTime,e.endTime)&&n.isSameDay(e.endTime,t.date)?0:60*Math.abs(n.getHours(i))+n.getMinutes(i),s=!n.isSameDay(e.startTime,e.endTime)&&n.isSameDay(e.endTime,t.date)?60*l.hours+l.minutes:60*o.hours+o.minutes;return a=Object.assign(Object.assign({},a),{offsetTop:d*this.options.getPixelsPerMinute,durationOffset:s*this.options.getPixelsPerMinute})},e.prototype.getCellHeight=function(e){return e.isEnd?20:this.pixelsPerHour},e.prototype.calculateMarkerPosition=function(){var e=new Date;return(60*n.getHours(e)+n.getMinutes(e))*this.options.getPixelsPerMinute},e.prototype.isToday=function(e){return this.formattingService.isToday(e)},e.prototype.getDayName=function(e){return this.formattingService.getDayName(e)},e.prototype.getDayNumber=function(e){return this.formattingService.getDayNumber(e)},e.prototype.getTime=function(e){return this.formattingService.getTime(e)},e.prototype.onEventClick=function(e){this.eventClick.emit(e)},e.prototype.navigateToDayView=function(e){this.changeToDayView.emit(e)},e.prototype.sortByTime=function(e,t){return e.startTime.getTime()-t.startTime.getTime()},e.prototype.sortByAllDay=function(e){return e.allDay?-1:1},e.prototype.isSameDay=function(e,t,a){return n.isSameDay(new Date(e),new Date(t))||n.isSameDay(new Date(e),new Date(a))},e.prototype.ngOnDestroy=function(){this.subscriptions$.unsubscribe()},e}();q.decorators=[{type:t.Component,args:[{template:""}]}],q.ctorParameters=function(){return[{type:M}]},q.propDecorators={options$:[{type:t.Input}],selectedDate$:[{type:t.Input}],events$:[{type:t.Input}],eventClick:[{type:t.Output}],changeToDayView:[{type:t.Output}]};var G=function(e){this.date=new Date,this.eventGroups=[],this.events=[],this.eventCount=0,Object.assign(this,e)},L=function(e){function t(t){var n=e.call(this,t)||this;return n.dayView={},n}return H(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.generateView(),this.subscriptions$.add(this.events$.pipe(o.tap((function(e){t.events=e,t.generateView()}))).subscribe())},t.prototype.generateView=function(){if(this.selectedDate){var e=this.generateDays();this.populateDayView(e)}},t.prototype.populateDayView=function(e){var t=this,n=e,a=this.events.filter((function(e){return t.isSameDay(n.date,e.startTime,e.endTime)})).map((function(e){return t.populateEvents(e,n)})).sort((function(e,n){return t.sortByTime(e,n)}));n.events=a,this.dayView=this.createEventGroups(n)},t.prototype.generateDays=function(){var e=new Date(this.selectedDate);return new G({date:e,eventGroups:[],events:[],eventCount:0})},t}(q);L.decorators=[{type:t.Component,args:[{selector:"day-view",template:'<div class="calendar__days">\n    <div class="calendar__day">\n        <div class="day__header" [ngClass]="{ \'day__header--today \': isToday(selectedDate) }">\n            <span class="day-name">{{ getDayName(selectedDate) }}</span> \n            <span class="day-number">{{ getDayNumber(selectedDate) }}</span>\n        </div>\n    </div>\n</div> \n\n<div class="calendar__content">\n    <div class="calendar__day-events">\n        <div class="day__lane">\n            <event-display\n                *ngFor="let event of dayView.events | allDayEventPipe: true"\n                class="calendar__item"\n                [component]="options.renderComponent.day"\n                [event]="event"\n                [date]="selectedDate"\n                (click)="onEventClick(event)">\n            </event-display>\n        </div>\n    </div>\n\n    <div class="calendar__lanes">\n        <div class="calendar__times">\n            <div class="time-cell" *ngFor="let hour of hoursOfDay;" [style.height.px]="getCellHeight(hour)">\n                {{ hour.title }}\n            </div>\n        </div>\n\n        <div class="day__lane" [ngClass]="{ \'day__lane--today\': isToday(selectedDate) }">\n            <div class="time-grid">\n                <div class="time-grid__cell" *ngFor="let hour of hoursOfDay;" [style.height.px]="getCellHeight(hour)"></div>\n            </div> \n\n            <div class="calendar__marker" *ngIf="isToday(selectedDate)" [style.marginTop.px]="markerPosition"></div>\n            \n            <event-display\n                *ngFor="let event of dayView.events | allDayEventPipe: false"\n                class="calendar__item"\n                [component]="options.renderComponent.day"\n                [event]="event"\n                [date]="selectedDate"                \n                [style.width.%]="event.grid?.width"\n                [style.marginLeft.%]="event.grid?.offsetLeft"\n                [style.marginTop.px]="event.grid?.offsetTop"\n                [style.height.px]="event.grid?.durationOffset"\n                (click)="onEventClick(event)">\n            </event-display>\n        </div>\n    </div>\n</div>',styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}.calendar__lanes{display:flex;flex:1;flex-direction:row;padding-top:10px}.calendar__lanes .day__lane{display:flex;flex-direction:column;position:relative;flex:1;padding:0 .5rem;border-right:1px solid #efefef;transition:.25s;background-color:#f4f4f4}.calendar__lanes .day__lane .time-grid{position:absolute;top:0;left:0;width:100%}.calendar__lanes .day__lane .time-grid__cell{border-top:1px dotted #dbdbdb;width:100%}.calendar__lanes .day__lane--today{background-color:#eef7fb}.calendar__lanes .day__lane--today .time-grid__cell{border-top-color:#c5e3f1}']}]}],L.ctorParameters=function(){return[{type:M}]};var K=function(){function e(e){this.resolver=e}return e.prototype.ngOnInit=function(){this.event&&!this.renderComponent&&this.createRenderComponent()},e.prototype.createRenderComponent=function(){var e=this.resolver.resolveComponentFactory(this.component);this.renderComponent=this.renderTarget.createComponent(e),this.renderComponent.instance.event=this.event,this.renderComponent.instance.date=this.date},e.prototype.ngOnDestroy=function(){this.renderComponent&&this.renderComponent.destroy()},e}();K.decorators=[{type:t.Component,args:[{selector:"event-display",template:"<ng-template #renderTarget></ng-template>",encapsulation:t.ViewEncapsulation.None,styles:[":host(event-display){overflow:hidden}event-render-day,event-render-week{height:100%}"]}]}],K.ctorParameters=function(){return[{type:t.ComponentFactoryResolver}]},K.propDecorators={event:[{type:t.Input}],date:[{type:t.Input}],component:[{type:t.Input}],renderTarget:[{type:t.ViewChild,args:["renderTarget",{read:t.ViewContainerRef,static:!0}]}]};var W=[y.MatIconModule,p.MatTooltipModule],R=function(){};R.decorators=[{type:t.NgModule,args:[{declarations:[K,O,j,S],imports:A([d.BrowserModule],W),exports:[K,O,j,S],providers:[],bootstrap:[]}]}];var Y=function(){function e(){}return e.prototype.transform=function(e,t){return t?e.filter((function(e){return e.allDay})):e.filter((function(e){return!e.allDay}))},e}();Y.decorators=[{type:t.Pipe,args:[{name:"allDayEventPipe"}]}];var U=function(){function e(){}return e.prototype.transform=function(e,t){return e.slice(0,t)},e}();U.decorators=[{type:t.Pipe,args:[{name:"limitPipe"}]}];var X=function(){};X.decorators=[{type:t.NgModule,args:[{declarations:[U,Y],imports:[],exports:[U,Y],providers:[],bootstrap:[]}]}];var J=function(){};J.decorators=[{type:t.NgModule,args:[{declarations:[L],imports:[d.BrowserModule,R,X],exports:[L],entryComponents:[],providers:[],bootstrap:[]}]}];var Q=function(e){function t(t){var n=e.call(this,t)||this;return n.weekView={},n}return H(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.generateView(),this.subscriptions$.add(this.events$.pipe(o.tap((function(e){t.events=e,t.generateView()}))).subscribe())},t.prototype.generateView=function(){if(this.selectedDate){var e=this.generateDays();this.populateWeekView(e)}},t.prototype.populateWeekView=function(e){var t=this,n=e;n.forEach((function(e){e.events=t.events.filter((function(n){return t.isSameDay(e.date,n.startTime,n.endTime)})).map((function(n){return t.populateEvents(n,e)})).sort((function(e,n){return t.sortByTime(e,n)})),e=t.createEventGroups(e)})),this.weekView.days=n},t.prototype.generateDays=function(){for(var e=n.startOfWeek(this.selectedDate,{weekStartsOn:1}),t=[],a=0;a<7;a++){var i=new Date(e);i=n.add(i,{days:a});var r=new G({date:i,eventGroups:[],events:[]});t.push(r)}return t},t}(q);Q.decorators=[{type:t.Component,args:[{selector:"week-view",template:'<div class="calendar__days">\n    <div class="calendar__day" *ngFor="let day of weekView.days;">\n        <div class="day__header" [ngClass]="{ \'day__header--today \': isToday(day.date) }">\n            <span class="day-name">{{ getDayName(day.date) }}</span> \n            <span class="day-number" (click)="navigateToDayView(day.date)">{{ getDayNumber(day.date) }}</span>\n        </div>\n    </div>\n</div> \n\n<div class="calendar__content">\n    <div class="calendar__day-events">\n        <div class="day__lane" *ngFor="let day of weekView.days">\n            <event-display\n                *ngFor="let event of day.events | allDayEventPipe: true"\n                class="calendar__item"\n                [component]="options.renderComponent.week"\n                [event]="event"\n                [date]="day.date"\n                (click)="onEventClick(event)">\n            </event-display>\n        </div>\n    </div>\n\n    <div class="calendar__lanes">\n        <div class="calendar__times">\n            <div class="time-cell" *ngFor="let hour of hoursOfDay;" [style.height.px]="getCellHeight(hour)">\n                {{ hour.title }}\n            </div>\n        </div>\n\n        <div class="day__lane"\n            *ngFor="let day of weekView.days"\n            [ngClass]="{ \'day__lane--today\': isToday(day.date) }">\n\n            <div class="time-grid">\n                <div class="time-grid__cell" *ngFor="let hour of hoursOfDay;" [style.height.px]="getCellHeight(hour)"></div>\n            </div> \n\n            <div class="calendar__marker" *ngIf="isToday(day.date)" [style.marginTop.px]="markerPosition"></div>\n            \n            <event-display\n                *ngFor="let event of day.events | allDayEventPipe: false"\n                class="calendar__item"\n                [component]="options.renderComponent.week"\n                [event]="event"\n                [date]="day.date"                \n                [style.width.%]="event.grid?.width"\n                [style.marginLeft.%]="event.grid?.offsetLeft"\n                [style.marginTop.px]="event.grid?.offsetTop"\n                [style.height.px]="event.grid?.durationOffset"\n                (click)="onEventClick(event)">\n            </event-display>\n        </div>\n    </div>\n</div>',styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}.calendar__lanes{display:flex;flex:1;flex-direction:row;padding-top:10px}.calendar__lanes .day__lane{display:flex;flex-direction:column;position:relative;flex:1;padding:0 .5rem;border-right:1px solid #efefef;transition:.25s}.calendar__lanes .day__lane:hover{background-color:#f4f4f4}.calendar__lanes .day__lane:hover .time-grid__cell{border-top-color:#dbdbdb}.calendar__lanes .day__lane .time-grid{position:absolute;top:0;left:0;width:100%}.calendar__lanes .day__lane .time-grid__cell{border-top:1px dotted #efefef;width:100%}.calendar__lanes .day__lane--today,.calendar__lanes .day__lane--today:hover{background-color:#eef7fb}.calendar__lanes .day__lane--today .time-grid__cell{border-top-color:#c5e3f1}.calendar__day{justify-content:center}.calendar__day .day__header:hover .day-number{cursor:pointer}']}]}],Q.ctorParameters=function(){return[{type:M}]};var Z=function(){};Z.decorators=[{type:t.NgModule,args:[{declarations:[Q],imports:[d.BrowserModule,R,X],exports:[Q],entryComponents:[],providers:[],bootstrap:[]}]}];var ee=function(e){function a(n){var a=e.call(this,n)||this;return a.setCalendarOffset=new t.EventEmitter,a.monthView={},a.daysOfWeek=C,a.dayBlockHeight=0,a.weekNumbers=[],a.showHiddenEvents=!1,a.maxEventsVisible=0,a.scrollListener=new r.Subject,a.scrollListener$=a.scrollListener.asObservable(),r.fromEvent(window,"wheel").pipe(o.takeUntil(a.scrollListener$),o.throttle((function(e){return r.interval(1e3)}))).subscribe((function(e){return a.handleScroll(e)})),a.hiddenEventsDay=new G,a}return H(a,e),a.prototype.onResize=function(){this.calculateMaxEventsPerDay()},a.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.generateView(),this.listenToCalendarViewportChanges(),this.subscriptions$.add(this.events$.pipe(o.tap((function(e){t.events=e,t.generateView()}))).subscribe()),this.subscriptions$.add(this.selectedDate$.pipe(o.tap((function(){t.closeHiddenEvents()}))).subscribe())},a.prototype.listenToCalendarViewportChanges=function(){var e=this;this.observer=new MutationObserver((function(t){e.calculateMaxEventsPerDay()})),this.observer.observe(this.calendarDayElement.nativeElement,{childList:!0})},a.prototype.generateView=function(){if(this.selectedDate){var e=this.generateDays();this.populateMonthView(e),this.getWeekNumbers(),this.calculateMaxEventsPerDay()}},a.prototype.getWeekNumbers=function(){var e=this,t=n.eachWeekOfInterval({start:n.startOfMonth(this.selectedDate),end:n.endOfMonth(this.selectedDate)});this.weekNumbers=[],t.forEach((function(t){e.weekNumbers.push(n.getWeek(t,{weekStartsOn:1}))}))},a.prototype.populateMonthView=function(e){var t=this,n=e;n.forEach((function(e){e.events=t.events.filter((function(n){return t.isSameDay(e.date,n.startTime,n.endTime)})).map((function(n){return t.populateEvents(n,e)})).sort((function(e,n){return t.sortByTime(e,n)})).sort((function(e){return t.sortByAllDay(e)})),(e=t.createEventGroups(e)).eventCount=e.events.length})),this.monthView.days=n},a.prototype.generateDays=function(){for(var e=n.add(n.startOfMonth(this.selectedDate),{days:7}).getDay(),t=n.sub(n.startOfMonth(this.selectedDate),{days:e-1}),a=[],i=0;i<35;i++){var r=new Date(t),o={date:r=n.add(r,{days:i}),eventGroups:[],events:[],eventCount:0};a.push(o)}return a},a.prototype.isCurrentMonth=function(e){return n.isSameMonth(e,this.selectedDate)},a.prototype.handleScroll=function(e){e.deltaY>0?this.setCalendarOffset.emit("next"):this.setCalendarOffset.emit(E)},a.prototype.toggleHiddenEvents=function(e,t){this.hiddenEventsTriggerOrigin=e,this.hiddenEventsDay=t,this.showHiddenEvents=!this.showHiddenEvents},a.prototype.closeHiddenEvents=function(){this.showHiddenEvents=!1},a.prototype.getHiddenEventsHeight=function(){return 30*this.hiddenEventsDay.eventCount+85},a.prototype.calculateMaxEventsPerDay=function(){var e,t=null===(e=this.calendarDayElement.nativeElement.children[0])||void 0===e?void 0:e.getBoundingClientRect().height;this.maxEventsVisible=Math.floor((t-25)/30)},a.prototype.ngOnDestroy=function(){this.scrollListener.next(),this.observer.disconnect()},a}(q);ee.decorators=[{type:t.Component,args:[{selector:"month-view",template:'<div class="calendar__days">\n    <div class="calendar__day" *ngFor="let day of daysOfWeek;">\n        <div class="day__header">\n            <span class="day-name">{{ day.title }}</span>\n        </div>\n    </div>\n</div>\n\n<div class="calendar__weeknumbers">\n    <div class="week-number-cell" *ngFor="let weekNumber of weekNumbers;">\n        {{ weekNumber }}\n    </div>\n</div>\n\n<div class="calendar__content">\n    <div class="calendar__blocks" #calendarDayElement>\n        <div \n            *ngFor="let day of monthView.days" \n            class="day__block"\n            [class.is-today]="isToday(day.date)">\n            <div class="day__block-content" [class.not-current-month]="!isCurrentMonth(day.date)">\n                <span class="day__block-date" (click)="navigateToDayView(day.date)">{{ getDayNumber(day.date) }}</span>\n            </div>\n\n            <div class="day__events">\n                <event-display\n                    *ngFor="let event of day.events | limitPipe: maxEventsVisible - 1"\n                    class="calendar__item"\n                    [component]="options.renderComponent.month"\n                    [event]="event"\n                    [date]="day.date"      \n                    (click)="onEventClick(event)">\n                </event-display>\n\n                <span *ngIf="day.eventCount && maxEventsVisible > 0 && day.eventCount >= maxEventsVisible">\n                    <div\n                        class="hidden-events-trigger"                        \n                        (click)="toggleHiddenEvents(trigger, day)"\n                        cdkOverlayOrigin\n                        #trigger="cdkOverlayOrigin">\n                        {{ day.eventCount - maxEventsVisible + 1 }} more\n                    </div>\n                </span>  \n            </div>\n        </div>\n\n        <ng-template\n            cdkConnectedOverlay\n            (overlayOutsideClick)="closeHiddenEvents()"\n            [cdkConnectedOverlayOffsetY]="-100"\n            [cdkConnectedOverlayOffsetX]="-35"\n            cdkConnectedOverlayPanelClass="hidden-events-overlay"\n            [cdkConnectedOverlayOrigin]="hiddenEventsTriggerOrigin"\n            [cdkConnectedOverlayOpen]="showHiddenEvents">\n            <div\n                class="event-container"\n                [class.is-today]="isToday(hiddenEventsDay.date)"\n                [style.height.px]="getHiddenEventsHeight()">\n\n                <span\n                    class="event-container__date"\n                    (click)="navigateToDayView(hiddenEventsDay.date)">\n                    {{ getDayNumber(hiddenEventsDay.date) }}\n                </span>\n\n                <event-display\n                    *ngFor="let event of hiddenEventsDay.events"\n                    class="calendar__item"\n                    [component]="options.renderComponent.month"\n                    [event]="event"\n                    [date]="hiddenEventsDay.date"      \n                    (click)="onEventClick(event)">\n                </event-display>\n            </div>\n        </ng-template>          \n    </div>\n</div>\n',styles:['*{box-sizing:border-box}.calendar__item{display:flex;flex:1;flex-direction:column;position:absolute;left:0;padding:2px;border-radius:4px;width:100%;transition:.25s}.calendar__item:hover{opacity:.75;cursor:pointer}.calendar__times{position:relative;top:-10px;display:flex;width:60px;margin-right:20px;flex-direction:column;color:#c8c8c8;text-align:center}.time-cell{display:flex;justify-content:center}.calendar__content{flex:1;flex-direction:column;overflow:scroll;margin-top:100px}.calendar__days{position:absolute;top:65px;left:0;bottom:0;right:0;display:flex;flex-direction:row;margin-left:79px;border-left:1px solid #efefef}.calendar__day{display:flex;flex:1;justify-content:flex-start;border-right:1px solid #efefef;padding-right:.5rem;margin-left:.5rem}.calendar__day .day__header{display:flex;flex-direction:column;align-items:center;color:#c8c8c8}.calendar__day .day__header .day-name{margin-bottom:.5rem}.calendar__day .day__header .day-number{display:flex;justify-content:center;align-items:center;margin-bottom:.5rem;width:40px;height:40px;border-radius:20px;background-color:#efefef;color:#2a2a2a}.calendar__day .day__header--today .day-number{background-color:#263238;color:#fff}.calendar__day-events{position:-webkit-sticky;position:sticky;top:0;z-index:2;display:flex;flex-direction:row;margin-left:79px;background-color:#fff;border-left:1px solid #efefef}.calendar__day-events .day__lane{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden;border-right:1px solid #efefef}.calendar__day-events .day__lane .calendar__item{position:relative}.calendar__day-events .day__lane .calendar__item .event__header{border-bottom:0}.calendar__marker{position:relative;z-index:1;border:1px solid #d32f2f;width:calc(100% + 1rem);left:-.5rem}.calendar__marker:before{content:"";display:block;position:absolute;width:10px;background-color:#d32f2f;height:10px;border-radius:10px;top:-5px;left:-7px}.calendar__content{display:flex;margin-left:4px;margin-top:15px;border-left:1px solid #efefef}.calendar__days{height:1.5rem;margin-left:38px}.calendar__days .day__header{flex:1}.calendar__weeknumbers{display:flex;flex-direction:column;justify-content:space-around;padding-top:1.5rem;text-align:center;width:22px;margin-right:12px}.calendar__weeknumbers .week-number-cell{color:#c8c8c8}.calendar__blocks{display:flex;flex:1;flex-wrap:wrap;flex-direction:row;padding-top:.5rem}.calendar__blocks .day__block{position:relative;display:flex;flex-direction:column;width:calc(100% / 7);padding-top:.5rem;overflow:hidden;border-right:1px solid #efefef;border-bottom:1px solid #efefef}.calendar__blocks .day__block .day__block-content{justify-content:center;display:flex}.calendar__blocks .day__block .day__block-date{display:flex;justify-content:center;align-items:center;text-align:center;width:25px;height:25px;color:#2a2a2a;font-size:.75rem}.calendar__blocks .day__block .day__block-date:hover{cursor:pointer}.calendar__blocks .day__block .day__events{position:absolute;overflow:hidden;top:2rem;width:100%}.calendar__blocks .day__block .not-current-month{opacity:.25}.calendar__blocks .day__block.is-today{background-color:#eef7fb}.calendar__blocks .day__block.is-today .day__block-date{border-radius:100%;background:#2a2a2a;color:#fff}.calendar__blocks .day__block .calendar__item{position:relative;padding:0 2px}.hidden-events-trigger{font-size:12px;padding:0 .5rem;font-weight:600}.hidden-events-trigger:hover{cursor:pointer;opacity:.7}']}]}],ee.ctorParameters=function(){return[{type:M}]},ee.propDecorators={setCalendarOffset:[{type:t.Output}],calendarDayElement:[{type:t.ViewChild,args:["calendarDayElement",{read:t.ElementRef,static:!0}]}],onResize:[{type:t.HostListener,args:["window:resize",["$event"]]}]};var te=function(){};te.decorators=[{type:t.NgModule,args:[{declarations:[ee],imports:[d.BrowserModule,R,g.OverlayModule,X],exports:[ee],entryComponents:[],providers:[],bootstrap:[]}]}];var ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return H(t,e),t.prototype.getFirstDayOfWeek=function(){return 1},t}(a.NativeDateAdapter);ne.decorators=[{type:t.Injectable}];var ae=[c.MatCardModule,f.MatButtonModule,p.MatTooltipModule,y.MatIconModule,a.MatNativeDateModule,m.MatFormFieldModule,u.MatInputModule,_.MatDatepickerModule,w.MatSelectModule,i.MatMenuModule,l.MatDialogModule,b.MatDividerModule],ie=[J,Z,te],re={useUtc:!0},oe=function(){};oe.decorators=[{type:t.NgModule,args:[{declarations:[N,z],imports:A([d.BrowserModule,s.FormsModule,s.ReactiveFormsModule],ie,ae),exports:[N,z],providers:[M,{provide:x.MAT_MOMENT_DATE_ADAPTER_OPTIONS,useValue:re},{provide:a.DateAdapter,useClass:ne}],bootstrap:[]}]}],e.KeyboardShortcutDialogComponent=z,e.NgxMatCalendarComponent=N,e.NgxMatCalendarModule=oe,e.ɵ0=re,e.ɵa=$,e.ɵb=J,e.ɵc=L,e.ɵd=q,e.ɵe=M,e.ɵf=R,e.ɵg=K,e.ɵh=O,e.ɵi=j,e.ɵj=S,e.ɵk=X,e.ɵl=U,e.ɵm=Y,e.ɵn=Z,e.ɵo=Q,e.ɵp=te,e.ɵq=ee,e.ɵr=ne,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=arjentienkamp-ngx-mat-calendar.umd.min.js.map