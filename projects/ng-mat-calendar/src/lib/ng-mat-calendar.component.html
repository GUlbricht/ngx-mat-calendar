<div class="calendar" *ngIf="events && options">
    <div class="calendar__toolbar">
         <button
            mat-stroked-button
            class="toolbar__button toolbar__button--today"
            color="primary"
            (click)="setCalendarToday()">
                Today
        </button>

        <button
            mat-icon-button
            class="toolbar__button"
            color="primary"
            (click)="setCalendar(-7)">
            <mat-icon>chevron_left</mat-icon>
        </button>

        <button
            mat-icon-button
            class="toolbar__button"
            color="primary"
            (click)="setCalendar(7)">
            <mat-icon>chevron_right</mat-icon>
        </button>

        <div class="toolbar__meta">
            <span class="toolbar__month">{{ calendar.monthAndYear }}</span>
            <span class="toolbar__week">Week {{ calendar.weeknumber }}</span>
        </div>

        <div class="toolbar__right">
            <mat-button-toggle-group
                name="view"
                #view="matButtonToggleGroup"
                [value]="selectedView"
                (change)="onViewChange(view.value)"
                aria-label="view"
                class="toolbar__view-switch">
                <mat-button-toggle *ngFor="let view of views" [value]="view.name">{{ view.name }}</mat-button-toggle>
            </mat-button-toggle-group>
            
            <div class="toolbar__datepicker" *ngIf="showDatePicker && enableDatePickerButton">
                <div [formGroup]="datePickerForm" *ngIf="datePickerForm">
                    <mat-form-field appearance="fill">
                        <mat-label>Choose a date</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="date">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker [dateClass]="dateClass" #picker></mat-datepicker>
                    </mat-form-field>
                </div>
            </div>

            <button
                *ngIf="enableDatePickerButton"
                mat-icon-button
                class="toolbar__button"
                color="primary"
                (click)="toggleDatePicker()">
                <mat-icon>calendar_today</mat-icon>
            </button>
        </div>
    </div>

    <div class="view view--day" *ngIf="selectedView === 'Day'">
        Day view
    </div>

    <div class="view view--week" *ngIf="selectedView === 'Week'">
        <div class="calendar__days">
            <div class="calendar__day" *ngFor="let day of calendar.days;">
                <div class="day__header" [ngClass]="{ 'day__header--today ': isToday(day.date) }">
                    <span class="day-name">{{ getDayName(day.date) }}</span> 
                    <span class="day-number">{{ getDayNumber(day.date) }}</span>
                </div>
            </div>
        </div> 
    
        <div class="calendar__content calendar__content--week" *ngIf="selectedView === 'Week'">
            <div class="calendar__lanes">
                <div class="calendar__times">
                    <div class="time-cell" *ngFor="let time of times;" [style.height.px]="getCellHeight(time)">
                        {{ time.time }}
                    </div>
                </div>
    
                <div class="day__lane"
                    *ngFor="let day of calendar.days; let i = index;"
                    [ngClass]="{ 'day__lane--today': isToday(day.date) }">

                    <div class="time-grid">
                        <div class="time-grid__cell" *ngFor="let time of times;" [style.height.px]="getCellHeight(time)"></div>
                    </div> 
    
                    <div class="calendar__spy" *ngIf="isToday(day.date)" [style.marginTop.px]="calculateSpy()"></div>
                    
                    <event-display
                        [component]="options.renderComponent"
                        [event]="event"
                        class="calendar__item"
                        *ngFor="let event of day.events; let i = index"
                        [style.width.%]="event.grid?.width"
                        [style.marginLeft.%]="event.grid?.offsetLeft"
                        [style.marginTop.px]="event.grid?.offsetTop"
                        [style.height.px]="event.grid?.durationOffset"
                        (click)="onEventClick(event)">
                    </event-display>
                </div>
            </div>
        </div>
    </div>

    <div class="view view--month" *ngIf="selectedView === 'Month'">
        Month view
    </div>
</div>