<div class="calendar" *ngIf="events && options">
    <div class="calendar__toolbar">
         <button
            mat-stroked-button
            class="toolbar__button toolbar__button--today"
            color="primary"
            [matTooltip]="today"
            (click)="setCalendarToday()">
                Today
        </button>

        <button
            mat-icon-button
            class="toolbar__button"
            color="primary"
            (click)="setCalendarOffset('prev')">
            <mat-icon>chevron_left</mat-icon>
        </button>

        <button
            mat-icon-button
            class="toolbar__button"
            color="primary"
            (click)="setCalendarOffset('next')">
            <mat-icon>chevron_right</mat-icon>
        </button>

        <div class="toolbar__meta">
            <span class="toolbar__month">{{ calendar.monthAndYear }}</span>
            <span class="toolbar__week" *ngIf="!getSelectedView('month')">Week {{ calendar.weeknumber }}</span>
        </div>

        <div class="toolbar__right">
            <mat-button-toggle-group
                name="view"
                #view="matButtonToggleGroup"
                [value]="selectedView"
                (change)="onViewChange(view.value)"
                aria-label="view"
                class="toolbar__view-switch">
                <mat-button-toggle value="day">Day</mat-button-toggle>
                <mat-button-toggle value="week">Week</mat-button-toggle>
                <mat-button-toggle value="month">Month</mat-button-toggle>
            </mat-button-toggle-group>

            <mat-menu #datePickerMenu="matMenu">
                <div (click)="$event.stopPropagation()">
                    <mat-calendar (selectedChange)="onDatePickerChange($event)"></mat-calendar>
                </div>
            </mat-menu>

            <button
                [matMenuTriggerFor]="datePickerMenu"
                matTooltip="Pick a date"
                *ngIf="enableDatePickerButton"
                mat-icon-button
                class="toolbar__button"
                color="primary">
                <mat-icon>calendar_today</mat-icon>
            </button>
        </div>
    </div>

    <day-view
        *ngIf="getSelectedView('day')"
        [events$]="events$"
        [selectedDate$]="selectedDate$"
        [options$]="options$"
        (eventClick)="onEventClick($event)">
    </day-view>

    <week-view
        *ngIf="getSelectedView('week')"
        [events$]="events$"
        [selectedDate$]="selectedDate$"
        [options$]="options$"
        (eventClick)="onEventClick($event)"
        (changeToDayView)="changeToDayView($event)">
    </week-view>

    <month-view
        *ngIf="getSelectedView('month')"
        [events$]="events$"
        [selectedDate$]="selectedDate$"
        [options$]="options$"
        (eventClick)="onEventClick($event)"
        (changeToDayView)="changeToDayView($event)">
    </month-view>

    <button
        class="calendar__add-button"
        *ngIf="options.enableAddEventButton"
        mat-fab
        color="primary"
        (click)="onAddButtonClick()">
        <mat-icon>add</mat-icon>
    </button>
</div>